<% content_for :page_header do %>
  <h1 class="govuk-heading-l">
    <%= property.address %>
    <% if property.can_raise_a_repair? %>
      <% if params[:show_raise_a_repair] %>
        <span class="govuk-caption-l">
          <strong>
            <%= link_to "Raise a repair on this property", new_property_repair_request_path(property.reference), class: 'hackney-link hackney-link-no-visited' %>
          </strong>
        </span>
      <% end %>
    <% end %>
  </h1>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">
      <div class="hackney-main-section-info">
        <h5 class="govuk-body-s property-details">Property details:</h5>
        <p class="govuk-body-s">
          <span class="govuk-!-font-weight-bold">
            <%= property.address %>
          </span><br>
          <%= property.postcode %>
        </p>

        <%
          clazz = "govuk-body-s hackney-property-tenure"
          if property.can_raise_a_repair?
            clazz += " hackney-property-tenure-turquoise"
          else
            clazz += " hackney-property-tenure-orange"
          end
        %>
        <p class="<%= clazz %>">
          <%= property.tenure %>
        </p>

        <% if @cautionary_contacts.present? %>
          <table class="cautionary-contact-table">
            <tbody class="govuk-body-xs hackney-body-xs cautionary-contact">
              <% @cautionary_contacts.each do |cautionary_contact| %>
                <tr>
                  <th scope="row" class="govuk-!-font-weight-bold">
                    <%= cautionary_contact.alert_code -%><%=  cautionary_contact.caller_notes.present? ? ":" : ""  %>
                  </th>
                  <td>
                    <%=  cautionary_contact.caller_notes %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        <% end %>

      </div>
    </div>
  </div>
<% end %>
