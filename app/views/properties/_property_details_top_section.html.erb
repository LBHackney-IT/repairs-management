<% content_for :page_header do %>
  <h1 class="govuk-heading-l hackney-property-heading">
    <%= property.address %>
  </h1>
  <% if property.can_raise_a_repair? %>
    <span class="govuk-heading-m hackney-page-header-raise-a-repair">
      <strong>
        <%= link_to "Raise a repair on this property", new_property_repair_request_path(property.reference), class: 'hackney-link hackney-link-no-visited' %>
      </strong>
    </span>
  <% else %>
    <div class="govuk-warning-text hackney-page-header-no-raise-a-repair">
      <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
      <strong class="govuk-warning-text__text">
        <span class="govuk-warning-text__assistive">Warning</span>
        Cannot raise a repair on this property due to tenancy status
      </strong>
    </div>
  <% end %>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-half">
      <div class="hackney-main-section-info">
        <h5 class="govuk-body-s property-details">Property details:</h5>
        <p class="govuk-body-s">
          <span class="govuk-!-font-weight-bold">
            <%= property.address %>
          </span><br>
          <%= property.postcode %>
        </p>
        <div class="hackney-warning-labels">
          <%
          clazz = "govuk-body-s hackney-property-warning-label"
          if property.can_raise_a_repair?
          clazz += " hackney-property-warning-label-turquoise"
          else
          clazz += " hackney-property-warning-label-orange"
          end
          %>
          <% if property.tenure.present? %>
          <p class="<%= clazz %>">
            <%= property.tenure %>
          </p>
          <% end %>

          <% if property.is_tmo? %>
          <p class="govuk-body-s hackney-property-warning-label hackney-property-warning-label-orange">
            <%= property.letting_area %>
          </p>
          <% end %>

          <% if @cautionary_contacts.present? %>
            <%= render :partial => 'shared/cautionary_contact_table', locals: { cautionary_contacts: @cautionary_contacts } %>
          <% end %>
        </div>

      </div>
    </div>
  </div>
<% end %>
